<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="color-scheme" content="dark light" />

  <!-- Meta tags -->
  <meta name="author" content="Reuben Donnison" />
  <meta name="description"
    content="Explore a portfolio website showcasing the creative journey of Reuben Donnison. Discover an array of exceptional projects, and unique talents that define a distinctive creative style." />
  <meta name="keywords" content="website, portfolio, developer, Reuben Donnison" />

  <!-- Import gsap -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

  <!-- Link style and JS -->
  <link rel="stylesheet" href="/static/style.css" />
  <script src="/static/gsap.js" type="module" defer></script>

  <!-- Favicon -->
  <link rel="shortcut icon" href="/static/images/favicon.ico" type="image/x-icon" />

  <title>Reuben Donnison</title>
</head>

<body>
  <!-- *Welcome header image and text -->
  <header id="welcome-header">
    <div>
      <!-- Header sub text -->
      <h3>I'm</h3>
      <!-- Randomized header -->
      <h1 <%if(admin){%>contenteditable <%}%>><%= header %>
      </h1>

      <!-- Header sub text -->
      <h3 <%if(admin){%>contenteditable <%}%>> <%- headerSub %></h3>

      <!-- Scroll icon -->
      <a href="#scroll" class="scroll-icon">
        <svg>
          <use xlink:href="/static/images/mouse.svg#mouse"></use>
        </svg>
      </a>
    </div>

    <!-- Triangular bottom to header -->
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none" class="edge">
      <polygon class="border" points="50,80 50,77.5 100,0 100,2.5" />
      <polygon points="50,100 50,80 100,2.5 100,100" />
      <polygon class="border" points="50,80 50,77.5 0,0 0,2.5" />
      <polygon points="0,2.5 50,80 50,100 0,100" />
    </svg>
  </header>

  <!-- Main Content and scroll icon scroll position  -->
  <main id="scroll">
    <!-- About me article -->
    <article id="about">
      <div>
        <!-- Header and links for about me -->
        <section class="header">
          <span></span>
          <h4>About me</h4>
          <a href="https://github.com/RJDonnison" target="_blank">
            <svg>
              <use xlink:href="/static/images/github.svg#github"></use>
            </svg>
          </a>
        </section>

        <!-- About me paragraph -->
        <p <%if(admin){%>contenteditable <%}%>> <%- about %></p>
      </div>

      <!-- Image to left of paragraph -->
      <img src="/static/images/about.jpg" alt="A person walking through a tunnel at night." />
    </article>

    <!-- Horizontal scroll timeline article  -->
    <article id="timeline">
      <!-- Timeline scroll progress bar -->
      <progress value="0" max="100"></progress>

      <!-- Projects container -->
      <div id="projects">
        <!-- Loop through projects -->
        <% let years=[]; projects.forEach(element=> {
          if(years.includes(element.year)){%>
          <!--* Project section -->
          <div>
            <!--* Header and links for project -->
            <section class="header">
              <span></span>
              <h4 <%if(admin){%>contenteditable <%}%>> <%= element.name %>
              </h4>
              <a href="<%= element.project_link %>" target="_blank">
                <svg>
                  <use xlink:href="/static/images/link.svg#link"></use>
                </svg>
              </a>
              <a href="<%= element.github_link %>" target="_blank">
                <svg>
                  <use xlink:href="/static/images/github.svg#github"></use>
                </svg>
              </a>
            </section>

            <!--* Project image -->
            <img src="<%= element.image %>" alt="<%= element.image.alt %>" />

            <!--* Project description -->
            <p <%if(admin){%> contenteditable <%}%>> <%- element.description %> </p>
          </div>

          <!--* Separate by year -->
          <% }else{ years.push(element.year); %>

            <!--* Year date -->
            <h2>
              <%= element.year %>
            </h2>

            <!--* Project section -->
            <div>
              <!--* Header and links for project -->
              <section class="header">
                <span></span>
                <h4 <%if(admin){%>contenteditable <%}%>> <%= element.name %>
                </h4>
                <a href="<%= element.project_link %>" target="_blank">
                  <svg>
                    <use xlink:href="/static/images/link.svg#link"></use>
                  </svg>
                </a>
                <a href="<%= element.github_link %>" target="_blank">
                  <svg>
                    <use xlink:href="/static/images/github.svg#github"></use>
                  </svg>
                </a>
              </section>

              <!--* Project image -->
              <a href="<%= element.project_link %>" target="_blank">
                <img src="<%= element.image %>" "<%= element.image.alt %>" />
              </a>

              <!--* Project description -->
              <p <%if(admin){%> contenteditable <%}%>> <%- element.description %> </p>
            </div>

            <% }}); %>

              <!--* Year date -->
              <h2>
                <%= parseInt(years[years.length-1]) + 1 %>
              </h2>

              <!--* Display add project form -->
              <%if(admin){%>
                <div>
                  <form action="/add-project" method="post" enctype="multipart/form-data">
                    <input type="text" name="name" placeholder="Name" />
                    <input type="number" name="year" placeholder="Year" />
                    <input type="text" name="github_link" placeholder="Github_link" />
                    <input type="text" name="project_link" placeholder="Project_link" />
                    <input type="file" name="image" placeholder="Image" />
                    <input type="text" name="image_alt" placeholder="Image_alt" />
                    <input type="text" name="description" placeholder="Description" />
                    <input type="submit" value="Submit" />
                  </form>
                  <button id="save">Save</button>
                </div>
                <%}%>

                  <h3 <%if(admin){%>contenteditable <%}%>><%- projectsEnd %></h3>
      </div>
    </article>

    <!-- Footer with contact info -->
    <footer>
      <!-- Header for footer -->
      <div>
        <section class="header">
          <span></span>
          <h4>Get in touch</h4>
        </section>

        <!-- Footer text -->
        <p <%if(admin){%>contenteditable <%}%>> <%- contact %></p>

        <!-- Contact section -->
        <div class="contact-stack">
          <!-- Link to gmail -->
          <a href="mailto:reujdon@gmail.com" target="_blank">
            <svg>
              <use xlink:href="/static/images/gmail.svg#gmail"></use>
            </svg>
            reujdon@gmail.com
          </a>
          <!-- Link to github -->
          <a href="https://github.com/RJDonnison" target="_blank">
            <svg>
              <use xlink:href="/static/images/github.svg#github"></use>
            </svg>
            RJDonnison
          </a>
          <!-- Link to linkedin -->
          <a href="#" target="_blank">
            <svg>
              <use xlink:href="/static/images/linkedin.svg#linkedin"></use>
            </svg>
            reujdon
          </a>
        </div>
      </div>

      <!-- Photo to right -->
      <div>
        <!-- Photo source -->
        <section class="header">
          <span></span>
          <h4>Photo by Reuben Donnison</h4>
        </section>
      </div>
    </footer>
  </main>
</body>

</html>